<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>monorepo</title>
    <link
      rel="shortcut icon"
      href="data:image/webp;base64,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"
      type="image/x-icon"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/reveal.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/lib/css/monokai.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/theme/night.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/js/reveal.min.js"></script>
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h4>
            <a
              href="https://medium.com/starbugs/%E6%B7%BA%E8%AB%87-monorepo-%E5%B8%B6%E4%BE%86%E7%9A%84%E6%95%88%E7%9B%8A-%E4%BB%A5-turborepo-%E7%82%BA%E4%BE%8B-615fb4af5ebd"
              target="_blank"
              rel="noopener noreferrer nofollow"
              >淺談 Monorepo 帶來的效益：以 Turborepo 為例</a
            >
          </h4>
          <img src="https://turborepo.org/og-image.png" height="200" />
        </section>
        <section>
          <h3>分享會大綱</h3>
          <ol>
            <li>monorepo 基本介紹</li>
            <li>為甚麼我們需要 monorepo</li>
            <li>package manager</li>
            <li>Turborepo 基本設定</li>
            <li>Turborepo 開發</li>
            <li>常見的 monorepo 框架比較</li>
          </ol>
        </section>
        <section>
          <section>
            <h3>monorepo 基本介紹</h3>
          </section>
          <section>
            <p>
              一般來說我們的開發模式都是一個專案用一個 repository 來進行管理。
            </p>
          </section>
          <section>
            <p>
              以一般的 SaaS
              產品來說我們會有員工操作的後台網頁，以及提供給使用者操作的前台網頁。
            </p>
            <p>
              在開發時就必須要建立兩個 repository 來開發跟管理，這種開發模式稱為
              multi-repo
            </p>
          </section>
          <section>
            <p>
              反之如果我們這兩個專案僅使用一個 repository
              來開發跟管理，這種開發模式稱為 monorepo
            </p>
          </section>
        </section>
        <section>
          <section>
            <h3>為甚麼我們需要 monorepo</h3>
          </section>
          <section>
            <p>
              其實 Monorepo
              除了管理專案之外，也可以管理一些共用的元件，甚至是共用的
              utils，這樣就不用很麻煩的在兩個專案上進行 copy and paste
            </p>
          </section>
          <section>
            <p>
              通常在 Monorepo 上會用以下的專案架構進行設計，這邊以 CMS
              架構進行說明。
            </p>
            <img src="https://imgur.com/qnAh5xy.png" />
          </section>
          <section>
            <p>
              在 apps
              的資料夾中，我們會擺上真正會被執行的專案，假如日後這個專案是有機會要被
              build 成 docker image 的話，這時候就可以根據 apps
              資料夾內的專案產出相對應的 docker
              image，以上述的例子來看就是會產生出 <b>後台網站</b> 以及
              <b>前台網站</b> 這兩個 image。
            </p>
          </section>
          <section>
            <p>
              在 packages 的資料夾中，我們就可以擺上各種需要被共用的元件或者是
              utils，在這邊開發的共用內容就可以同時被 apps
              資料夾內的專案使用，這樣的架構設計也可以讓程式碼寫起來相當乾淨。
            </p>
          </section>
        </section>
        <section>
          <section>
            <h3>package manager</h3>
          </section>
          <section>
            <p>
              在 Monorepo 的世界中一個 repository
              底下會有很多個專案，每個專案都會有自己的 package，假如沒有一個好的
              package manager 來管理這些 package 的話，最後就會讓整個 repository
              很難被控制
            </p>
          </section>
          <section>
            <p>前端來說比較著名的 package manager 有以下幾個：</p>
            <ul>
              <li><a href="https://www.npmjs.com/" target="_blank">npm</a></li>
              <li><a href="https://yarnpkg.com/" target="_blank">Yarn</a></li>
              <li><a href="https://pnpm.io/" target="_blank">pnpm</a></li>
              <li><a href="https://rushjs.io/" target="_blank">rush</a></li>
            </ul>
          </section>
          <section>
            <p>
              通常 package manager 只負責用來處理套件的安裝，然而在 Monorepo
              的架構中，我們通常都會有好幾個專案在同一個資料夾，這時候就必須要使用
              package manager 的一個重要觀念：workspaces。
            </p>
          </section>
          <section>
            <p>
              workspaces 簡單來說就是可以方便讓你一鍵安裝所有的套件至 workspaces
              所管理的資料夾內，或者是方便你安裝套件在 workspaces
              所管理的資料夾內。
            </p>
          </section>
          <section>
            <p>
              想要設定 workspaces 管理的資料夾也很簡單，只要在 package.json
              中填上想要被管理的資料夾路徑就好，像下圖這樣：
            </p>
            <img
              src="https://miro.medium.com/max/876/1*fmbWUllrUhqfV7Xlc7gHcQ.png"
            />
          </section>
          <section>
            <p>
              想要將套件利用 workspaces 安裝到指定的資料夾下也很簡單，只要打上
              yarn workspace folderName add packageName 即可。
            </p>
            <img
              src="https://miro.medium.com/max/1400/1*4mHWLxNJCvNscC8ObkW6-Q.png"
              height="450"
            />
          </section>
          <section>
            <p>
              想要移除套件也很簡單，只要把剛剛指令中的 add 改成 remove 就好。
            </p>
            <img
              src="https://miro.medium.com/max/1400/1*ZCeKD8Mq24WuaSVusALPdQ.png"
            />
          </section>
        </section>
        <section>
          <section>
            <h3>Turborepo 基本設定</h3>
          </section>
        </section>
        <section>
          <section>
            <h3>Turborepo 開發</h3>
          </section>
        </section>
        <section>
          <section>
            <h3>常見的 monorepo 框架比較</h3>
          </section>
        </section>
      </div>
    </div>
  </body>
</html>

<script>
  window.onload = () => {
    Reveal.initialize({
      dependencies: [
        {
          src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/plugin/highlight/highlight.min.js',
          async: true,
        },
      ],
    });
  };
</script>
